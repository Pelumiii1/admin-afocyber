{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/me/Desktop/admin-afocyber/src/components/RemoteImage.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport { supabase } from \"../lib/supabaseClient\";\nimport Image from \"next/image\";\n\ntype RemoteImageProps = {\n  path?: string;\n  alt?: string;\n  width: number;\n  height: number;\n  className?: string;\n};\n\nconst RemoteImage = ({ path, ...imageProps }: RemoteImageProps) => {\n  const [image, setImage] = useState(\"\");\n\n  const DEFAULT_FALLBACK =\n    \"https://placehold.co/300x300?text=Image+Unavailable\";\n\n  useEffect(() => {\n    if (!path) return;\n    (async () => {\n      const { data, error } = await supabase.storage\n        .from(\"post-images\")\n        .download(path);\n      if (error) {\n        console.log(error);\n      }\n\n      if (data) {\n        const fr = new FileReader();\n        fr.readAsDataURL(data);\n        fr.onload = () => {\n          setImage(fr.result as string);\n        };\n      }\n    })();\n  }, [path]);\n\n  if (!image) {\n  }\n\n  return <Image src={image || DEFAULT_FALLBACK} alt=\"\" {...imageProps} />;\n};\n\nexport default RemoteImage;\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;AAaA,MAAM,cAAc,CAAC,EAAE,IAAI,EAAE,GAAG,YAA8B;IAC5D,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,mBACJ;IAEF,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,MAAM;QACX,CAAC;YACC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,4HAAA,CAAA,WAAQ,CAAC,OAAO,CAC3C,IAAI,CAAC,eACL,QAAQ,CAAC;YACZ,IAAI,OAAO;gBACT,QAAQ,GAAG,CAAC;YACd;YAEA,IAAI,MAAM;gBACR,MAAM,KAAK,IAAI;gBACf,GAAG,aAAa,CAAC;gBACjB,GAAG,MAAM,GAAG;oBACV,SAAS,GAAG,MAAM;gBACpB;YACF;QACF,CAAC;IACH,GAAG;QAAC;KAAK;IAET,IAAI,CAAC,OAAO,CACZ;IAEA,qBAAO,8OAAC,6HAAA,CAAA,UAAK;QAAC,KAAK,SAAS;QAAkB,KAAI;QAAI,GAAG,UAAU;;;;;;AACrE;uCAEe","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/me/Desktop/admin-afocyber/src/components/Admin/Posts.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { supabase } from \"../../lib/supabaseClient\";\nimport { useRouter } from \"next/navigation\";\nimport { Post } from \"@/types\";\nimport RemoteImage from \"../RemoteImage\";\nimport { FaRegTrashAlt } from \"react-icons/fa\";\nimport { CiEdit } from \"react-icons/ci\";\n\nexport default function Posts() {\n  const router = useRouter();\n  const [posts, setPosts] = React.useState<Post[]>([]);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    fetchPosts();\n  }, []);\n\n  const fetchPosts = async () => {\n    const { data } = await supabase.from(\"posts\").select(\"*\");\n    setPosts(data || []);\n    setLoading(false);\n  };\n\n  const handlePostClick = (post: Post) => {\n    router.push(`/new-post?edit=${post.id}`);\n  };\n\n  const handleDelete = async (post: Post) => {\n    const { error } = await supabase\n      .from(\"posts\")\n      .delete()\n      .eq(\"id\", post.id)\n      .single();\n    if (!error) {\n      setPosts(posts.filter((p) => p.id !== post.id));\n    }\n  };\n\n  if (loading) {\n    return <div>Loading posts...</div>;\n  }\n\n  if (posts.length === 0) {\n    return (\n      <div className=\"h-screen flex justify-center items-center\">\n        <p className=\"text-[25px]\">No Post</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-5 grid grid-cols-1 md:grid-cols-1\">\n      {posts.map((post) => (\n        <div\n          key={post.id}\n          className=\"border shadow-md rounded-lg w-full hover:shadow-xl cursor-pointer bg-white transition-all duration-500 md:flex\"\n        >\n          <div className=\"flex justify-center\">\n            <RemoteImage\n              path={post.image_url}\n              alt={post.title}\n              width={400}\n              height={100}\n            />\n          </div>\n\n          <div>\n            <div className=\"p-5\">\n              <h1 className=\"text-[12px] md:text-[18px] font-bold text-gray-900 line-clamp-2\">\n                {post.title}\n              </h1>\n              <p className=\"mt-1 line-clamp-2 text-[10px] md:text-[18px] mb-3\">\n                {post.description}\n              </p>\n\n              <div\n                dangerouslySetInnerHTML={{ __html: post.content }}\n                className=\"prose max-w-none line-clamp-3 text-[12px] md:text-[15px]\"\n              />\n            </div>\n\n            <div className=\"flex flex-wrap justify-end gap-5 p-5\">\n              <button\n                onClick={() => handlePostClick(post)}\n                className=\"flex items-center gap-1\"\n              >\n                <CiEdit />\n                Edit\n              </button>\n              <button\n                onClick={() => handleDelete(post)}\n                className=\"bg-red-500 px-5 py-1 rounded-lg text-white flex items-center gap-1\"\n              >\n                <FaRegTrashAlt size={15} />\n                Delete\n              </button>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AARA;;;;;;;;AAUe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,OAAO,SAAS,GAAG,qMAAA,CAAA,UAAK,CAAC,QAAQ,CAAS,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,qMAAA,CAAA,UAAK,CAAC,QAAQ,CAAC;IAE7C,qMAAA,CAAA,UAAK,CAAC,SAAS,CAAC;QACd;IACF,GAAG,EAAE;IAEL,MAAM,aAAa;QACjB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,4HAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,SAAS,MAAM,CAAC;QACrD,SAAS,QAAQ,EAAE;QACnB,WAAW;IACb;IAEA,MAAM,kBAAkB,CAAC;QACvB,OAAO,IAAI,CAAC,CAAC,eAAe,EAAE,KAAK,EAAE,EAAE;IACzC;IAEA,MAAM,eAAe,OAAO;QAC1B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,4HAAA,CAAA,WAAQ,CAC7B,IAAI,CAAC,SACL,MAAM,GACN,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;QACT,IAAI,CAAC,OAAO;YACV,SAAS,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE;QAC/C;IACF;IAEA,IAAI,SAAS;QACX,qBAAO,8OAAC;sBAAI;;;;;;IACd;IAEA,IAAI,MAAM,MAAM,KAAK,GAAG;QACtB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAE,WAAU;0BAAc;;;;;;;;;;;IAGjC;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;gBAEC,WAAU;;kCAEV,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,iIAAA,CAAA,UAAW;4BACV,MAAM,KAAK,SAAS;4BACpB,KAAK,KAAK,KAAK;4BACf,OAAO;4BACP,QAAQ;;;;;;;;;;;kCAIZ,8OAAC;;0CACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDACX,KAAK,KAAK;;;;;;kDAEb,8OAAC;wCAAE,WAAU;kDACV,KAAK,WAAW;;;;;;kDAGnB,8OAAC;wCACC,yBAAyB;4CAAE,QAAQ,KAAK,OAAO;wCAAC;wCAChD,WAAU;;;;;;;;;;;;0CAId,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,SAAS,IAAM,gBAAgB;wCAC/B,WAAU;;0DAEV,8OAAC,8IAAA,CAAA,SAAM;;;;;4CAAG;;;;;;;kDAGZ,8OAAC;wCACC,SAAS,IAAM,aAAa;wCAC5B,WAAU;;0DAEV,8OAAC,8IAAA,CAAA,gBAAa;gDAAC,MAAM;;;;;;4CAAM;;;;;;;;;;;;;;;;;;;;eAvC5B,KAAK,EAAE;;;;;;;;;;AAgDtB","debugId":null}}]
}